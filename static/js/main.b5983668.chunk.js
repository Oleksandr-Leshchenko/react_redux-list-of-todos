(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{21:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"setUserIdAction",(function(){return S})),n.d(r,"fetchTodosAction",(function(){return T})),n.d(r,"fetchTodosSuccessAction",(function(){return E})),n.d(r,"fetchTodosErrorAction",(function(){return _})),n.d(r,"fetchTodos",(function(){return m}));var c,u=n(8),s=n.n(u),o=n(4),a=n(6),i=n(12),d=n(5);!function(t){t.FETCH_TODOS="FETCH_TODOS",t.FETCH_TODOS_SUCCESS="FETCH_TODOS_SUCCESS",t.FETCH_TODOS_ERROR="FETCH_TODOS_ERROR",t.SET_USER_ID="SET_USER_ID"}(c||(c={}));var l={todos:[],loading:!1,error:null,userId:0},f=Object(a.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c.FETCH_TODOS:return{todos:[],loading:!0,error:null,userId:0};case c.FETCH_TODOS_SUCCESS:return{todos:e.payload,loading:!1,error:null,userId:0};case c.FETCH_TODOS_ERROR:return{todos:[],loading:!1,error:e.payload,userId:0};case c.SET_USER_ID:return Object(d.a)(Object(d.a)({},t),{},{userId:e.payload});default:return t}}),Object(a.a)(i.a)),O=o.c,j=(n(20),n(21),n(3)),p=n(7),b=n(2),h=n.n(b),x=n(0),v=function(){var t=Object(j.a)(h.a.mark((function t(e){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://mate.academy/students-api/users",e&&(n+="/".concat(e)),t.prev=2,t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.json();case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",{name:"no user"});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),S=function(t){return{type:c.SET_USER_ID,payload:t}},T=function(){return{type:c.FETCH_TODOS}},E=function(t){return{type:c.FETCH_TODOS_SUCCESS,payload:t}},_=function(t){return{type:c.FETCH_TODOS_ERROR,payload:t}},m=function(){return function(){var t=Object(j.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://mate.academy/students-api/todos",t.next=3,fetch("https://mate.academy/students-api/todos");case 3:return t.next=5,t.sent.json();case 5:n=t.sent;try{e(T()),e(E(n))}catch(r){e(_("Failed to fetch todos"))}case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(){var t=Object(o.b)();return Object(a.b)(r,t)},y=n(1),I=function(){var t=O((function(t){return t})).userId,e=Object(x.useState)(null),n=Object(p.a)(e,2),r=n[0],c=n[1],u=C().setUserIdAction;return Object(x.useEffect)((function(){!function(){var e=Object(j.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),r?Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:r.name}),Object(y.jsxs)("article",{children:[Object(y.jsx)("p",{children:r.email}),Object(y.jsx)("p",{children:r.phone})]}),Object(y.jsx)("button",{type:"button",onClick:function(){return u(0)},children:"Clear"})]}):Object(y.jsx)("div",{children:"no user"})},R=(n(24),function(){var t=O((function(t){return t})),e=t.todos,n=t.loading,r=t.error,c=C(),u=c.fetchTodos,s=c.setUserIdAction,o=Object(x.useState)(""),a=Object(p.a)(o,2),i=a[0],d=a[1],l=Object(x.useState)("all"),f=Object(p.a)(l,2),j=f[0],b=f[1];return Object(x.useEffect)((function(){u()}),[]),n?Object(y.jsx)("div",{children:"Loading"}):r?Object(y.jsx)("div",{children:r}):Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",value:i,onChange:function(t){return d(t.target.value)},className:"input is-small"}),Object(y.jsxs)("select",{value:j,onChange:function(t){return b(t.target.value)},className:"select",children:[Object(y.jsx)("option",{value:"all",children:"all"}),Object(y.jsx)("option",{value:"false",children:"active"}),Object(y.jsx)("option",{value:"true",children:"completed"})]}),Object(y.jsx)("ul",{className:"TodoList",children:function(t){var e=t.filter((function(t){return t.title.includes(i)}));switch(j){case"true":return e.filter((function(t){return!0===t.completed}));case"false":return e.filter((function(t){return!1===t.completed}));default:return e}}(e).map((function(t){return Object(y.jsxs)("li",{children:["".concat(t.title," ").concat(t.completed),Object(y.jsx)("button",{type:"button",className:"button is-rounded is-info",style:{marginLeft:"100px"},onClick:function(){return s(t.userId)},children:" User #".concat(t.userId)})]},t.id)}))})]})}),D=function(){var t=O((function(t){return t})).userId;return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("h1",{children:"Redux list of todos"}),Object(y.jsx)(R,{}),0!==t&&Object(y.jsx)(I,{})]})},g=function(){return Object(y.jsx)(o.a,{store:f,children:Object(y.jsx)(D,{})})};s.a.render(Object(y.jsx)(g,{}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.b5983668.chunk.js.map